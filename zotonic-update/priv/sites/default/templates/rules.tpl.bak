{% extends "admin_base.tpl" %}

{% block title %} Rules {% endblock %}

{% block content %}
<div class="edit-header">
    
    <h2>{_ Rules _}</h2>

    <p>{_ A predicate denotes traits or aspects of a page and expresses a relationship between two pages.
    The relation is always directed, from the subject to the object.<br/>Predicates are defined in ontologies like <a href="http://sioc-project.org/">SIOC</a>.  On this page you can define the predicates known to Zotonic. _}</p>
    
    <div class="well">
        {% button class="btn btn-primary" text=_"Make a new rule" action={create title=""} %}
    </div>


    <table class="table table-striped do_adminLinkedTable">
        <thead>
            <tr>
                <th width="20%">{_ Title _}</th>
                <th width="20%">{_ Name _}</th>
                <th width="40%">{_ URI _}</th>
                <th width="20%">&nbsp;</th>
            </tr>
        </thead>
{% print m.rsc %}
        <tbody>

	{% for z,y in m.rsc %}
		{% print y %}
	  {% endfor %}
            {% for x,p in m.predicate %}
	    {% print x %}
            <tr id="{{ #li.name }}" data-href="{% url admin_edit_rsc id=p.id %}">
                <td>{{ p.title|default:"&nbsp;" }}</td>
                <td>{{ p.name|default:"&nbsp;" }}</td>
                <td>{{ p.uri|default:"&nbsp;" }}</td>
                <td>
                    <div class="pull-right">
                        {% button class="btn btn-mini" disabled=p.is_protected text="delete" action={delete id=p.id on_success={slide_fade_out target=#li.name}} %}
                        <a href="{% url admin_edit_rsc id=p.id %}" class="btn btn-mini">{_ edit _}</a>
                    </div>                        
                    {{ p.reversed|yesno:"reversed,&nbsp;" }}
                </td>
            </li>
            {% empty %}
            <li>
                No predicates found.
            </li>
            {% endfor %}
        </ul>

    </div>
</div>
{% endblock %}
