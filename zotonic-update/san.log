
C:\zotonic-update>set erl=erl 

C:\zotonic-update>rem set erl="C:\Program Files\erl5.7.4\bin\erl.exe" 

C:\zotonic-update>set ebin=./ebin ./modules/mod_oauth/deps/erlang-oauth/ebin ./deps/mochiweb/ebin ./deps/webzmachine/ebin  

C:\zotonic-update>erl +P 10000000 -pa ./ebin ./modules/mod_oauth/deps/erlang-oauth/ebin ./deps/mochiweb/ebin ./deps/webzmachine/ebin  -boot start_sasl -sasl errlog_type error -s zotonic 
Eshell V5.9.1  (abort with ^G)
1> ** ./ebin/install_rules.beam hides c:/zotonic-update/deps/seresye/ebin/install_rules.beam
1> ** Found 1 name clashes in code paths 
1> ** ./ebin/install_rules.beam hides c:/zotonic-update/deps/seresye/ebin/install_rules.beam
1> ** Found 1 name clashes in code paths 
1> 10:50:00.427 [info] Application lager started on node nonode@nohost
1> 10:50:00.521 [info] Application protobuffs started on node nonode@nohost
1> 10:50:00.536 [info] Application syntax_tools started on node nonode@nohost
1> 10:50:00.552 [info] Application parse_trans started on node nonode@nohost
1> 10:50:00.692 [info] Application seresye started on node nonode@nohost
1> 10:50:01.254 [info] Application mnesia started on node nonode@nohost
1> Seresye Path "c:/zotonic-update/deps/seresye"
1> 10:50:01.332 [info] Application public_key started on node nonode@nohost
1> 10:50:01.348 [info] Application ssl started on node nonode@nohost
1> 10:50:01.519 [info] Application inets started on node nonode@nohost
1> ** ./ebin/install_rules.beam hides c:/zotonic-update/deps/seresye/ebin/install_rules.beam
1> ** Found 1 name clashes in code paths 
1> opening log file: "c:/zotonic-update/priv/log/access.log.2012_09_06_09"
1> 10:50:02.096 [info] gen_smtp_server starting at nonode@nohost

1> 10:50:02.096 [info] listening on {0,0,0,0}:2525 via tcp

1> [[{model_name,"sample"},
  {model_def,"message Sample {optional string test = 1 ;}"}],
 [{model_name,"node"},
  {model_def,"message Node{\noptional string node_name=1;\noptional int32 heap=2;\noptional int32 cpu=3;\n}"}],
 [{model_name,"person"},
  {model_def,"message Person {\n  optional string name = 1;\n  optional int32 id = 2;\n  optional string email = 3;}"}]]1> infile<0.224.0>[]1> infile<0.224.0>[{var,1,message}]1> infile<0.224.0>[{var,1,message},{var,1,'Sample'}]1> infile<0.224.0>[{var,1,message},{var,1,'Sample'},{'{',1}]1> infile<0.224.0>[{var,1,message},{var,1,'Sample'},{'{',1},{var,1,optional}]1> infile<0.224.0>[{var,1,message},
                {var,1,'Sample'},
                {'{',1},
                {var,1,optional},
                {var,1,string}]1> infile<0.224.0>[{var,1,message},
                {var,1,'Sample'},
                {'{',1},
                {var,1,optional},
                {var,1,string},
                {var,1,test}]1> infile<0.224.0>[{var,1,message},
                {var,1,'Sample'},
                {'{',1},
                {var,1,optional},
                {var,1,string},
                {var,1,test},
                {'=',1}]1> infile<0.224.0>[{var,1,message},
                {var,1,'Sample'},
                {'{',1},
                {var,1,optional},
                {var,1,string},
                {var,1,test},
                {'=',1},
                {integer,1,1}]1> infile<0.224.0>[{var,1,message},
                {var,1,'Sample'},
                {'{',1},
                {var,1,optional},
                {var,1,string},
                {var,1,test},
                {'=',1},
                {integer,1,1},
                {';',1}]1> infile<0.224.0>[{var,1,message},
                {var,1,'Sample'},
                {'{',1},
                {var,1,optional},
                {var,1,string},
                {var,1,test},
                {'=',1},
                {integer,1,1},
                {';',1},
                {'}',1}]1> 10:50:03.516 [info] Writing header file to "c:/ErlangTools/seresye/src/records/sample.hrl"

1> 10:50:04.062 [info] Writing beam file to "c:/ErlangTools/seresye/src/records/proto/beam/sample.beam"

1> infile<0.318.0>[]1> infile<0.318.0>[{var,1,message}]1> infile<0.318.0>[{var,1,message},{var,1,'Node'}]1> infile<0.318.0>[{var,1,message},{var,1,'Node'},{'{',1}]1> infile<0.318.0>[{var,1,message},{var,1,'Node'},{'{',1},{var,2,optional}]1> infile<0.318.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string}]1> infile<0.318.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name}]1> infile<0.318.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name},
                {'=',1}]1> infile<0.318.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name},
                {'=',1},
                {integer,1,1}]1> infile<0.318.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name},
                {'=',1},
                {integer,1,1},
                {';',1}]1> infile<0.318.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional}]1> infile<0.318.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32}]1> infile<0.318.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,heap}]1> infile<0.318.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,heap},
                {'=',1}]1> infile<0.318.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,heap},
                {'=',1},
                {integer,1,2}]1> infile<0.318.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,heap},
                {'=',1},
                {integer,1,2},
                {';',1}]1> infile<0.318.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,heap},
                {'=',1},
                {integer,1,2},
                {';',1},
                {var,2,optional}]1> infile<0.318.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,heap},
                {'=',1},
                {integer,1,2},
                {';',1},
                {var,2,optional},
                {var,1,int32}]1> infile<0.318.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,heap},
                {'=',1},
                {integer,1,2},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,cpu}]1> infile<0.318.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,heap},
                {'=',1},
                {integer,1,2},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,cpu},
                {'=',1}]1> infile<0.318.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,heap},
                {'=',1},
                {integer,1,2},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,cpu},
                {'=',1},
                {integer,1,3}]1> infile<0.318.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,heap},
                {'=',1},
                {integer,1,2},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,cpu},
                {'=',1},
                {integer,1,3},
                {';',1}]1> infile<0.318.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,heap},
                {'=',1},
                {integer,1,2},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,cpu},
                {'=',1},
                {integer,1,3},
                {';',1},
                {'}',2}]1> 10:50:04.608 [info] Writing header file to "c:/ErlangTools/seresye/src/records/node.hrl"

1> 10:50:04.889 [info] Writing beam file to "c:/ErlangTools/seresye/src/records/proto/beam/node.beam"

1> infile<0.333.0>[]1> infile<0.333.0>[{var,1,message}]1> infile<0.333.0>[{var,1,message},{var,1,'Person'}]1> infile<0.333.0>[{var,1,message},{var,1,'Person'},{'{',1}]1> infile<0.333.0>[{var,1,message},{var,1,'Person'},{'{',1},{var,2,optional}]1> infile<0.333.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string}]1> infile<0.333.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name}]1> infile<0.333.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name},
                {'=',1}]1> infile<0.333.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name},
                {'=',1},
                {integer,1,1}]1> infile<0.333.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name},
                {'=',1},
                {integer,1,1},
                {';',1}]1> infile<0.333.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional}]1> infile<0.333.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32}]1> infile<0.333.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,id}]1> infile<0.333.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,id},
                {'=',1}]1> infile<0.333.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,id},
                {'=',1},
                {integer,1,2}]1> infile<0.333.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,id},
                {'=',1},
                {integer,1,2},
                {';',1}]1> infile<0.333.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,id},
                {'=',1},
                {integer,1,2},
                {';',1},
                {var,2,optional}]1> infile<0.333.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,id},
                {'=',1},
                {integer,1,2},
                {';',1},
                {var,2,optional},
                {var,1,string}]1> infile<0.333.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,id},
                {'=',1},
                {integer,1,2},
                {';',1},
                {var,2,optional},
                {var,1,string},
                {var,1,email}]1> infile<0.333.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,id},
                {'=',1},
                {integer,1,2},
                {';',1},
                {var,2,optional},
                {var,1,string},
                {var,1,email},
                {'=',1}]1> infile<0.333.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,id},
                {'=',1},
                {integer,1,2},
                {';',1},
                {var,2,optional},
                {var,1,string},
                {var,1,email},
                {'=',1},
                {integer,1,3}]1> infile<0.333.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,id},
                {'=',1},
                {integer,1,2},
                {';',1},
                {var,2,optional},
                {var,1,string},
                {var,1,email},
                {'=',1},
                {integer,1,3},
                {';',1}]1> infile<0.333.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,id},
                {'=',1},
                {integer,1,2},
                {';',1},
                {var,2,optional},
                {var,1,string},
                {var,1,email},
                {'=',1},
                {integer,1,3},
                {';',1},
                {'}',1}]1> 10:50:05.388 [info] Writing header file to "c:/ErlangTools/seresye/src/records/person.hrl"

1> 10:50:05.716 [info] Writing beam file to "c:/ErlangTools/seresye/src/records/proto/beam/person.beam"

1> [[{rule_name,"tot_nodes_2"},
  {pattern,"{new_node}=F,{tot_nodes,X}=G"},
  {condition,[]},
  {action,"[{retract,F},{retract,G},{assert,{tot_nodes,\"X+1\"}}]\t"},
  {client_state,"s2"},
  {salience,"0"}],
 [{rule_name,"tot_nodes"},
  {pattern,"#node{}"},
  {condition,[]},
  {action,"[{assert,{new_node}}]"},
  {client_state,[]},
  {salience,"0"}]]1> inside Add rule1> 
Tokens [{'[',1},
        {'{',1},
        {atom,1,retract},
        {',',1},
        {var,1,'F'},
        {'}',1},
        {',',1},
        {'{',1},
        {atom,1,retract},
        {',',1},
        {var,1,'G'},
        {'}',1},
        {',',1},
        {'{',1},
        {atom,1,assert},
        {',',1},
        {'{',1},
        {atom,1,tot_nodes},
        {',',1},
        {string,1,"X+1"},
        {'}',1},
        {'}',1},
        {']',1},
        {dot,1}]1> inside Add rule1> 
Tokens [{'[',1},
        {'{',1},
        {atom,1,assert},
        {',',1},
        {'{',1},
        {atom,1,new_node},
        {'}',1},
        {'}',1},
        {']',1},
        {dot,1}]1> [[{model_name,"sample"},
  {model_def,"message Sample {optional string test = 1 ;}"}],
 [{model_name,"node"},
  {model_def,"message Node{\noptional string node_name=1;\noptional int32 heap=2;\noptional int32 cpu=3;\n}"}],
 [{model_name,"person"},
  {model_def,"message Person {\n  optional string name = 1;\n  optional int32 id = 2;\n  optional string email = 3;}"}]]1> infile<0.389.0>[]1> infile<0.389.0>[{var,1,message}]1> infile<0.389.0>[{var,1,message},{var,1,'Sample'}]1> infile<0.389.0>[{var,1,message},{var,1,'Sample'},{'{',1}]1> infile<0.389.0>[{var,1,message},{var,1,'Sample'},{'{',1},{var,1,optional}]1> infile<0.389.0>[{var,1,message},
                {var,1,'Sample'},
                {'{',1},
                {var,1,optional},
                {var,1,string}]1> infile<0.389.0>[{var,1,message},
                {var,1,'Sample'},
                {'{',1},
                {var,1,optional},
                {var,1,string},
                {var,1,test}]1> infile<0.389.0>[{var,1,message},
                {var,1,'Sample'},
                {'{',1},
                {var,1,optional},
                {var,1,string},
                {var,1,test},
                {'=',1}]1> infile<0.389.0>[{var,1,message},
                {var,1,'Sample'},
                {'{',1},
                {var,1,optional},
                {var,1,string},
                {var,1,test},
                {'=',1},
                {integer,1,1}]1> infile<0.389.0>[{var,1,message},
                {var,1,'Sample'},
                {'{',1},
                {var,1,optional},
                {var,1,string},
                {var,1,test},
                {'=',1},
                {integer,1,1},
                {';',1}]1> infile<0.389.0>[{var,1,message},
                {var,1,'Sample'},
                {'{',1},
                {var,1,optional},
                {var,1,string},
                {var,1,test},
                {'=',1},
                {integer,1,1},
                {';',1},
                {'}',1}]1> 10:50:06.402 [info] Writing header file to "c:/ErlangTools/seresye/src/records/sample.hrl"

1> 10:50:06.777 [info] Writing beam file to "c:/ErlangTools/seresye/src/records/proto/beam/sample.beam"

1> infile<0.439.0>[]1> infile<0.439.0>[{var,1,message}]1> infile<0.439.0>[{var,1,message},{var,1,'Node'}]1> infile<0.439.0>[{var,1,message},{var,1,'Node'},{'{',1}]1> infile<0.439.0>[{var,1,message},{var,1,'Node'},{'{',1},{var,2,optional}]1> infile<0.439.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string}]1> infile<0.439.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name}]1> infile<0.439.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name},
                {'=',1}]1> infile<0.439.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name},
                {'=',1},
                {integer,1,1}]1> infile<0.439.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name},
                {'=',1},
                {integer,1,1},
                {';',1}]1> infile<0.439.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional}]1> infile<0.439.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32}]1> infile<0.439.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,heap}]1> infile<0.439.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,heap},
                {'=',1}]1> infile<0.439.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,heap},
                {'=',1},
                {integer,1,2}]1> infile<0.439.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,heap},
                {'=',1},
                {integer,1,2},
                {';',1}]1> infile<0.439.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,heap},
                {'=',1},
                {integer,1,2},
                {';',1},
                {var,2,optional}]1> infile<0.439.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,heap},
                {'=',1},
                {integer,1,2},
                {';',1},
                {var,2,optional},
                {var,1,int32}]1> infile<0.439.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,heap},
                {'=',1},
                {integer,1,2},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,cpu}]1> infile<0.439.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,heap},
                {'=',1},
                {integer,1,2},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,cpu},
                {'=',1}]1> infile<0.439.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,heap},
                {'=',1},
                {integer,1,2},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,cpu},
                {'=',1},
                {integer,1,3}]1> infile<0.439.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,heap},
                {'=',1},
                {integer,1,2},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,cpu},
                {'=',1},
                {integer,1,3},
                {';',1}]1> infile<0.439.0>[{var,1,message},
                {var,1,'Node'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,node_name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,heap},
                {'=',1},
                {integer,1,2},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,cpu},
                {'=',1},
                {integer,1,3},
                {';',1},
                {'}',2}]1> 10:50:07.151 [info] Writing header file to "c:/ErlangTools/seresye/src/records/node.hrl"

1> 10:50:07.448 [info] Writing beam file to "c:/ErlangTools/seresye/src/records/proto/beam/node.beam"

1> infile<0.464.0>[]1> infile<0.464.0>[{var,1,message}]1> infile<0.464.0>[{var,1,message},{var,1,'Person'}]1> infile<0.464.0>[{var,1,message},{var,1,'Person'},{'{',1}]1> infile<0.464.0>[{var,1,message},{var,1,'Person'},{'{',1},{var,2,optional}]1> infile<0.464.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string}]1> infile<0.464.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name}]1> infile<0.464.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name},
                {'=',1}]1> infile<0.464.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name},
                {'=',1},
                {integer,1,1}]1> infile<0.464.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name},
                {'=',1},
                {integer,1,1},
                {';',1}]1> infile<0.464.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional}]1> infile<0.464.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32}]1> infile<0.464.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,id}]1> infile<0.464.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,id},
                {'=',1}]1> infile<0.464.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,id},
                {'=',1},
                {integer,1,2}]1> infile<0.464.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,id},
                {'=',1},
                {integer,1,2},
                {';',1}]1> infile<0.464.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,id},
                {'=',1},
                {integer,1,2},
                {';',1},
                {var,2,optional}]1> infile<0.464.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,id},
                {'=',1},
                {integer,1,2},
                {';',1},
                {var,2,optional},
                {var,1,string}]1> infile<0.464.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,id},
                {'=',1},
                {integer,1,2},
                {';',1},
                {var,2,optional},
                {var,1,string},
                {var,1,email}]1> infile<0.464.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,id},
                {'=',1},
                {integer,1,2},
                {';',1},
                {var,2,optional},
                {var,1,string},
                {var,1,email},
                {'=',1}]1> infile<0.464.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,id},
                {'=',1},
                {integer,1,2},
                {';',1},
                {var,2,optional},
                {var,1,string},
                {var,1,email},
                {'=',1},
                {integer,1,3}]1> infile<0.464.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,id},
                {'=',1},
                {integer,1,2},
                {';',1},
                {var,2,optional},
                {var,1,string},
                {var,1,email},
                {'=',1},
                {integer,1,3},
                {';',1}]1> infile<0.464.0>[{var,1,message},
                {var,1,'Person'},
                {'{',1},
                {var,2,optional},
                {var,1,string},
                {var,1,name},
                {'=',1},
                {integer,1,1},
                {';',1},
                {var,2,optional},
                {var,1,int32},
                {var,1,id},
                {'=',1},
                {integer,1,2},
                {';',1},
                {var,2,optional},
                {var,1,string},
                {var,1,email},
                {'=',1},
                {integer,1,3},
                {';',1},
                {'}',1}]1> 10:50:07.728 [info] Writing header file to "c:/ErlangTools/seresye/src/records/person.hrl"

1> 10:50:08.134 [info] Writing beam file to "c:/ErlangTools/seresye/src/records/proto/beam/person.beam"

1> [[{rule_name,"tot_nodes_2"},
  {pattern,"{new_node}=F,{tot_nodes,X}=G"},
  {condition,[]},
  {action,"[{retract,F},{retract,G},{assert,{tot_nodes,\"X+1\"}}]\t"},
  {client_state,"s2"},
  {salience,"0"}],
 [{rule_name,"tot_nodes"},
  {pattern,"#node{}"},
  {condition,[]},
  {action,"[{assert,{new_node}}]"},
  {client_state,[]},
  {salience,"0"}]]1> inside Add rule1> 
Tokens [{'[',1},
        {'{',1},
        {atom,1,retract},
        {',',1},
        {var,1,'F'},
        {'}',1},
        {',',1},
        {'{',1},
        {atom,1,retract},
        {',',1},
        {var,1,'G'},
        {'}',1},
        {',',1},
        {'{',1},
        {atom,1,assert},
        {',',1},
        {'{',1},
        {atom,1,tot_nodes},
        {',',1},
        {string,1,"X+1"},
        {'}',1},
        {'}',1},
        {']',1},
        {dot,1}]1> >> Rule ({tot_nodes_2,tot_nodes_2}) already present 
1> >> with salience = 0
1> >> To change salience use 'set_salience()'.
1> inside Add rule1> 
Tokens [{'[',1},
        {'{',1},
        {atom,1,assert},
        {',',1},
        {'{',1},
        {atom,1,new_node},
        {'}',1},
        {'}',1},
        {']',1},
        {dot,1}]1> >> Rule ({tot_nodes,tot_nodes}) already present 
1> >> with salience = 0
1> >> To change salience use 'set_salience()'.
1> 10:50:08.540 [info] Application zotonic started on node nonode@nohost
1> webmachine_logger: closing log file: "c:/zotonic-update/priv/log/access.log.2012_09_06_09"
1> opening log file: "c:/zotonic-update/priv/log/access.log.2012_09_06_10"
1> {seresye,[],
         [{{tuple,0,
                  [{atom,0,node},{var,0,'_'},{var,0,'_'},{var,0,'_'}]},
           143412,#Fun<erl_eval.6.82930912>},
          {{tuple,0,[{atom,0,tot_nodes},{var,0,'X'}]},
           135217,#Fun<erl_eval.6.82930912>},
          {{tuple,0,[{atom,0,new_node}]},
           131122,#Fun<erl_eval.6.82930912>}],
         [{root,nil,[2,5],0,1},
          {{131122,nil},[],[3],1,2},
          {{135217,#Fun<erl_eval.12.82930912>},[],[4],2,3},
          {{p_node,{{tot_nodes_2,tot_nodes_2},0}},[],[],3,4},
          {{143412,nil},[],[6],1,5},
          {{p_node,{{tot_nodes,tot_nodes},0}},[],[],5,6}],
         {agenda,0,depth,[],nil,0,[]},
         [],[],undefined,[]}
2> ** exception throw: {seresye,
                     {rule_execution,
                      [{{tot_nodes_2,tot_nodes_2},
                        [{new_node},{tot_nodes,0}],
                        0,1},
                       {badarg,
                        [{ets,delete_object,[131122,{new_node}],[]},
                         {seresye_engine,check_cond,3,
                          [{file,
                            "c:/ErlangTools/seresye/src/seresye_engine.erl"},
                           {line,785}]},
                         {seresye_engine,retract,2,
                          [{file,
                            "c:/ErlangTools/seresye/src/seresye_engine.erl"},
                           {line,141}]},
                         {tot_nodes_2,tot_nodes_2,3,
                          [{file,
                            "c:/ErlangTools/seresye/src/rules/tot_nodes_2.erl"},
                           {line,8}]},
                         {seresye_agenda,execute_rule,2,
                          [{file,
                            "c:/ErlangTools/seresye/src/seresye_agenda.erl"},
                           {line,324}]},
                         {seresye_agenda,exec,2,
                          [{file,
                            "c:/ErlangTools/seresye/src/seresye_agenda.erl"},
                           {line,301}]},
                         {seresye_agenda,execute_pending,1,
                          [{file,
                            "c:/ErlangTools/seresye/src/seresye_agenda.erl"},
                           {line,178}]},
                         {seresye_engine,execute_pending,1,
                          [{file,
                            "c:/ErlangTools/seresye/src/seresye_engine.erl"},
                           {line,233}]}]}]}}
     in function  seresye_agenda:exec/2 (c:/ErlangTools/seresye/src/seresye_agenda.erl, line 305)
     in call from seresye_agenda:execute_pending/1 (c:/ErlangTools/seresye/src/seresye_agenda.erl, line 178)
     in call from seresye_engine:execute_pending/1 (c:/ErlangTools/seresye/src/seresye_engine.erl, line 233)
     in call from lists:foldl/3 (lists.erl, line 1197)
3> Terminate batch job (Y/N)? 
